{% extends 'base.html' %}
{% load static %}

{% block title %}
  Noticias
{% endblock %}

{% block description %}
  Noticias relacionadas a literatura
{% endblock %}

{% block keywords %}
  Noticias,Literatura,Informacao
{% endblock %}

{% block content %}
<body class="bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100">

  <div class="flex min-h-screen flex-col">
    <main class="flex-1 px-8 md:px-16 py-8 max-w-screen-xl mx-auto">

      <!-- Botão menu mobile -->
      <label for="menu-toggle" class="lg:hidden mb-6 cursor-pointer p-2 text-blue-900 dark:text-blue-300 text-3xl">
        ☰
      </label>

      <!-- Título da seção -->
      <h1 class="text-3xl font-extrabold mb-10 text-gray-900 dark:text-gray-100 border-b border-gray-300 dark:border-gray-700 pb-4 text-left">
        Notícias
      </h1>

      <!-- Lista de notícias -->
      <div class="space-y-6">

        {% for noticia in noticias %}
          <a href="{% url 'core:noticia_detail' noticia.slug %}" class="block">
            <article class="flex items-stretch bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-300 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer overflow-hidden w-full max-w-full">
              <div class="w-48 sm:w-56 bg-gray-200 dark:bg-gray-700 flex-shrink-0">
                {% if noticia.imagem_capa %}
                  <img src="{{ noticia.imagem_capa.url }}" alt="{{ noticia.titulo }}" class="w-full h-full object-cover rounded-l-xl" />
                {% else %}
                  <div class="w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500">
                    <svg class="w-12 h-12" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path>
                    </svg>
                  </div>
                {% endif %}
              </div>
              <div class="flex-1 p-8 flex flex-col justify-center">
                <span class="text-blue-800 dark:text-blue-400 text-sm font-semibold mb-3 block uppercase tracking-wide">História Literária</span>
                <h2 class="text-2xl font-bold leading-snug mb-3">{{ noticia.titulo }}</h2>
                {% if noticia.subtitulo %}
                  <p class="text-gray-600 dark:text-gray-400 mb-2 line-clamp-2">{{ noticia.subtitulo }}</p>
                {% endif %}
                <p class="text-sm text-gray-600 dark:text-gray-400">{{ noticia.data_publicacao|date:'d/m/Y' }}</p>
              </div>
            </article>
          </a>
        {% empty %}
          <div class="text-center py-12">
            <p class="text-gray-500 dark:text-gray-400 text-lg">Nenhuma notícia encontrada.</p>
          </div>
        {% endfor %}

{% endblock %}
