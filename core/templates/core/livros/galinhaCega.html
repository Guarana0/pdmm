{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-200">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

    <!-- Cabeçalho do Livro: Título e Autor -->
    <header class="text-center mb-8 md:mb-12">
      <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white tracking-tight">
        Galinha Cega
        {# Em um app real, seria: {{ book.title }} #}
      </h1>
      <p class="mt-2 text-lg md:text-xl text-gray-600 dark:text-gray-400">
        por 
        <a href="#" class="text-blue-500 hover:underline">João Alphonsus de Guimaraens</a> 
        (Contos, 1935)
        {# Em um app real, seria: por <a href="{{ book.author.get_absolute_url }}">{{ book.author.name }}</a> ({{ book.genre }}, {{ book.year }}) #}
      </p>
    </header>

    <article>
      <!-- Seção Principal: Sinopse com Imagem da Capa -->
      <section class="flex flex-col md:flex-row gap-8 items-center md:items-start">
        <!-- Imagem da Capa do Livro -->
        <div class="flex-shrink-0">
          <img 
            src="{% static 'img/galinhaCega_cover.jpg' %}" 
            alt="Capa do livro Galinha Cega" 
            class="w-48 h-72 md:w-56 md:h-80 object-cover rounded-lg border-4 border-gray-200 dark:border-gray-700 shadow-lg"
          />
          {# Em um app real, seria: src="{{ book.cover.url }}" #}
        </div>

        <!-- Texto da Sinopse -->
        <div class="text-base text-gray-700 dark:text-gray-300 space-y-4 text-justify leading-relaxed">
          {# O ideal é que a sinopse venha do banco de dados. Ex: {{ book.synopsis|linebreaks }} #}
          <p>
            "Galinha Cega" é a obra-prima de João Alphonsus e um marco do conto moderno brasileiro. Publicado em 1935, o livro reúne narrativas curtas que mergulham na psicologia de pessoas comuns, revelando seus dramas íntimos, frustrações e a solidão inerente à condição humana. O conto que dá título ao livro é uma poderosa alegoria sobre a percepção e a alienação.
          </p>
          <p>
            Com uma prosa econômica e precisa, o autor constrói atmosferas densas e personagens inesquecíveis, explorando as tensões da vida provinciana e a complexidade das relações familiares. A obra se afasta do regionalismo pitoresco para focar em um universalismo trágico, consolidando João Alphonsus como um mestre da forma curta e um dos mais importantes prosadores de sua geração.
          </p>
        </div>
      </section>
      
      <!-- Seção de Detalhes da Obra -->
      <section class="mt-12 md:mt-16">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center text-gray-900 dark:text-white border-b-2 border-gray-200 dark:border-gray-700 pb-3">
          Detalhes da Obra
        </h2>
        {# Em um app real, isso viria direto do objeto `book` #}
        <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700">
          <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
            <div class="flex flex-col">
              <dt class="font-semibold text-gray-900 dark:text-white">Autor</dt>
              <dd class="text-gray-600 dark:text-gray-400">João Alphonsus</dd>
            </div>
            <div class="flex flex-col">
              <dt class="font-semibold text-gray-900 dark:text-white">Gênero</dt>
              <dd class="text-gray-600 dark:text-gray-400">Contos / Modernismo</dd>
            </div>
            <div class="flex flex-col">
              <dt class="font-semibold text-gray-900 dark:text-white">Ano de Publicação</dt>
              <dd class="text-gray-600 dark:text-gray-400">1935</dd>
            </div>
            <div class="flex flex-col">
              <dt class="font-semibold text-gray-900 dark:text-white">Editora (Exemplo)</dt>
              <dd class="text-gray-600 dark:text-gray-400">Editora Record</dd>
            </div>
          </dl>
        </div>
      </section>

      <!-- Seção de Trecho -->
      <section class="mt-12 md:mt-16">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-900 dark:text-white">
          Trecho do Livro
        </h2>
        <blockquote class="border-l-4 border-blue-500 pl-4 py-2 italic text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 rounded-r-lg">
          <p>"A galinha, sendo cega, não via o seu caminho. Bicava o ar, a terra, as pedras, a si mesma. E, no entanto, prosseguia, movida por uma fome que não era apenas de milho, mas de um sentido que a própria cegueira lhe roubara."</p>
          <cite class="block text-right not-italic mt-2 text-sm text-gray-500 dark:text-gray-400">— Conto "Galinha Cega"</cite>
          {# Em um app real: {{ book.excerpt|linebreaks }} #}
        </blockquote>
      </section>

      <!-- Seção de Críticas e Análises -->
      <section class="mt-12 md:mt-16">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-900 dark:text-white">
          Críticas e Análises
        </h2>
        <ul class="space-y-3">
          {# Em um app real, isso seria um loop: {% for review in book.reviews %} ... {% endfor %} #}
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-1 flex-shrink-0 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
            <span class="text-gray-700 dark:text-gray-300">Análise da prosa de João Alphonsus em <a href="#" class="text-blue-500 hover:underline">LiteraTudo</a>.</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-1 flex-shrink-0 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
            <span class="text-gray-700 dark:text-gray-300">Estudo sobre o pessimismo na obra, por Antonio Candido.</span>
          </li>
        </ul>
      </section>
    </article>

  </div>
</main>
{% endblock %}