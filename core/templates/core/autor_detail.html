{% extends 'base.html' %}
{% load static %}
{% block title %}{{ autor.slug|title }}{% endblock %}
{% block description %}Detalhes do Autor Modernista Mineiro{% endblock %}
{% block keywords %}Autor, Modernismo, Literatura{% endblock %}

{% block content %}
<main class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-200">
  <!-- A L T E R A Ç Ã O   A Q U I -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

    <!-- Cabeçalho do Autor: Nome e Tagline -->
    <header class="text-center mb-8 md:mb-12">
      <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white tracking-tight">
        {{ autor.nome }} {{ autor.sobrenome }}
        {# Em um app real, seria: {{ author.name }} #}
      </h1>
      <p class="mt-2 text-lg md:text-xl text-gray-600 dark:text-gray-400">
        Contista, romancista e poeta do Modernismo
        {# Em um app real, seria: {{ author.tagline }} #}
      </p>
    </header>

    <article>
      <!-- Seção Principal: Biografia com Imagem -->
      <section class="flex flex-col md:flex-row gap-8 items-center md:items-start">
        <!-- Imagem do Autor -->
        <div class="flex-shrink-0">
          <img 
            src="{{ autor.foto.url }}"
            alt="Retrato de João Alphonsus" 
            class="w-40 h-40 md:w-56 md:h-56 object-cover rounded-lg border-4 border-gray-200 dark:border-gray-700 shadow-lg"
          />
          {# Em um app real, seria: src="{{ author.image.url }}" #}
        </div>

        <!-- Texto da Biografia -->
        <div class="text-base text-gray-700 dark:text-gray-300 space-y-4 text-justify leading-relaxed">
          <p>{{ autor.biografia|linebreaks }}</p>
        </div>
      </section>
      
      <!-- Seção de Obras (Bibliografia) -->
      <section class="mt-12 md:mt-16">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center text-gray-900 dark:text-white border-b-2 border-gray-200 dark:border-gray-700 pb-3">
          Principais Obras
        </h2>
        {# Em um app real, isso seria um loop: {% for work in works %} ... {% endfor %} #}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Card de Obra 1 -->
          {% for livro in autor.livros.all %}
          <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-300">
            <h3 class="font-bold text-lg text-gray-900 dark:text-white">{{ livro.titulo }}</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ livro.get_genero_display }} ({{ livro.ano_publicacao }})</p>
          </div>
          {% empty %}
          <div class="text-gray-600 dark:text-gray-400">
              <p>Nenhuma obra cadastrada para este autor.</p>
          </div>
          {% endfor %}
        </div>
      </section>

      <!-- Seção de Referências -->
      <section class="mt-12 md:mt-16">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-900 dark:text-white">
          Referências e Leituras
        </h2>
        <ul class="space-y-3">
          {# Em um app real, isso seria um loop: {% for ref in references %} ... {% endfor %} #}
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-1 flex-shrink-0 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
            <span class="text-gray-700 dark:text-gray-300">CANDIDO, Antonio. "A nova narrativa". In: ______. A educação pela noite & outros ensaios. São Paulo: Ática, 1987.</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 mr-3 mt-1 flex-shrink-0 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
            <span class="text-gray-700 dark:text-gray-300">BOSI, Alfredo. História Concisa da Literatura Brasileira. São Paulo: Cultrix, 2017.</span>
          </li>
        </ul>
      </section>
    </article>

  </div>
</main>
{% endblock %}